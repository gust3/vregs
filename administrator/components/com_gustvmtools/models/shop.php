<?php// Запрет прямого доступа.defined('_JEXEC') or die; // Подключаем библиотеку modellist Joomla.jimport('joomla.application.component.modellist'); /** * Модель списка сообщений компонента HelloWorld. */class gustVMtoolsModelShop extends JModelList{    /**     * Метод для построения SQL запроса для загрузки списка данных.     *     * @return string SQL запрос.     */    protected function getListQuery()    {        $db = JFactory::getDBO();        $query = $db->getQuery(true);         $query->select('*');		$id_shop = JRequest::getVar( 'id', 1 );		$query->where('id = '.$id_shop);        $query->from('#__vmtools_shops');         return $query;    }	public function set_shop_change()	{		$db = JFactory::getDBO();		$adress = JRequest::getVar( 'adress', "" );		$name = JRequest::getVar( 'name', "" );		$phone = JRequest::getVar( 'phone', "" );		$label = JRequest::getVar( 'label', "" );		$id_shop = JRequest::getVar( 'id_shop', 1 );		$query = 'UPDATE #__vmtools_shops SET adress="'.$adress.'", name="'.$name.'", phone="'.$phone.'", label="'.$label.'" WHERE id='.$id_shop;		$db->setQuery($query);		$db->query();	}	}