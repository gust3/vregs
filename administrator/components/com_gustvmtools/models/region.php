<?php// Запрет прямого доступа.defined('_JEXEC') or die; // Подключаем библиотеку modellist Joomla.jimport('joomla.application.component.modeladmin'); /** * Модель списка сообщений компонента HelloWorld. */class gustVMtoolsModelRegion extends JModelAdmin{    /**     * Метод для построения SQL запроса для загрузки списка данных.     *     * @return string SQL запрос.     */	public function getForm($data = array(), $loadData = true) 	{		 // Get the form.		 $form = $this->loadForm('com_gustvmtools.region', 'region', array('load_data' => $loadData));		 if (empty($form)) 		 {		 return false;		 }		 return $form;	}		protected function loadFormData()	{		$id = JRequest::getVar('id');		$table = JModel::getTable('region');		$table->load($id);		$data = $table;		return $data;	}	public function set_region_change()	{		$row =& JTable::getInstance('region', 'Table');		$form = JRequest::get('post');		$row->bind($form);		$row->check($form);		$row->store($form, true);			}	public function add_region()	{		$row =& JTable::getInstance('region', 'Table');		$form = JRequest::get('post');		$row->bind($form);		$row->check($form);		$row->store($form, true);	}	public function delete_regions($arr)	{				$db = JFactory::getDBO();		foreach ($arr as $key=>$val)		{			$query = 'DELETE FROM #__vmtools_regions WHERE id ='.$val;			$db->setQuery($query);			$db->query();		}	}	}