<?php// Запрет прямого доступа.defined('_JEXEC') or die; // Подключаем библиотеку modellist Joomla.jimport('joomla.application.component.modellist'); /** * Модель списка сообщений компонента HelloWorld. */class gustVMtoolsModelVideo extends JModelList{    /**     * Метод для построения SQL запроса для загрузки списка данных.     *     * @return string SQL запрос.     */	 	public function __construct($config = array())	 {		parent::__construct($config);	 }	protected function getListQuery()    {        // Создаем новый query объект.        $db = JFactory::getDBO();        /*        $query = $db->getQuery(true);        $query->select('*');        $query->from('#__vmtools_videos');        $query->from('#_toolsvmproducts');		$query->order("id DESC");        */        $filter = JRequest::getVar('filter');        if ($filter)        {            $query ="SELECT v.product_id as id, v.url as url, v.comment as comment FROM #__vmtools_videos as v, #__toolsvmproducts as t WHERE t.id = v.product_id AND t.model LIKE '%".$filter."%' ORDER BY id DESC";        }        else        {            $query ="SELECT v.product_id as id, v.url as url, v.comment as comment FROM #__vmtools_videos as v, #__toolsvmproducts as t WHERE t.id = v.product_id ORDER BY id DESC";        }        return $query;    }	protected function populateState($ordering = null, $direction = null)	{		parent::populateState('id', 'asc');	}}