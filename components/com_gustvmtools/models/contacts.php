<?php// Запрет прямого доступа.defined('_JEXEC') or die; // Подключаем библиотеку modellist Joomla.jimport('joomla.application.component.modellist'); /** * Модель списка сообщений компонента HelloWorld. */class gustVMtoolsModelContacts extends JModelList{    /**     * Метод для построения SQL запроса для загрузки списка данных.     *     * @return string SQL запрос.     */	 	public function __construct($config = array())	 {		parent::__construct($config);	 }	protected function getListQuery()    {        // Создаем новый query объект.		$orderCol	= $this->state->get('list.ordering');		$orderDirn	= $this->state->get('list.direction');        $filter = JRequest::getVar('filter');        $db = JFactory::getDBO();                if ($filter)        {                               $query = $db->getQuery(true);                    $query->select('*');                    $query->from('#__vmtools_netshop');                    $query->where('published = 1');                    $query->order($db->getEscaped($orderCol.' '.$orderDirn));                    $query->where("ymname LIKE '%".$filter."%'");        }        else        {                    $query = $db->getQuery(true);                    $query->select('*');                    $query->from('#__vmtools_netshop');                    $query->where('published = 1');                    $query->order($db->getEscaped($orderCol.' '.$orderDirn));		}        return $query;            }	protected function populateState($ordering = null, $direction = null)	{		parent::populateState('id', 'asc');	}}